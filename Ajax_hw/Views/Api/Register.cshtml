
@{
    ViewData["Title"] = "Register";
}

<h1>Register</h1>
<form method="post" name="userInfo">
    <div class="form-group">
        <label for="Inputname">name</label>
        <input type="text" class="form-control" id="Inputname" name="name">
        <small id="emailHelp" class="form-text text-muted"></small>
    </div>
    <div class="form-group">
        <label for="InputEmail">Email</label>
        <input type="email" class="form-control" id="Inputemail" name="email">
    </div>
    <div class="form-group">
        <label for="Inputage">age</label>
        <input type="text" class="form-control" id="Inputage" name="age" >
    </div>
    <button type="button" class="btn btn-primary">Submit</button>
</form>
<div class="alert alert-info" id="div1"></div>

@section Scripts
{

    <script>
        const txtname = document.querySelector("#Inputname");
        const info = document.querySelector("#emailHelp");

        txtname.addEventListener("blur", () => {

           const xhr = new XMLHttpRequest();
  
            xhr.addEventListener("load", () =>
            {
                const data = xhr.responseText;
                info.innerHTML = `<h3>${data}</h3>`;

            })

            const formdata = new FormData(document.userInfo);
            xhr.open("POST"," @Url.Content("~/api/index")");
            xhr.send(formdata);


        })



    </script>



}

